<!DOCTYPE jbosscmp-jdbc PUBLIC
          "-//JBoss//DTD JBOSSCMP-JDBC 4.0//EN"
          "http://www.jboss.org/j2ee/dtd/jbosscmp-jdbc_4_0.dtd">
<jbosscmp-jdbc>
    <defaults>
        <datasource>java:/BankDB</datasource>
        <datasource-mapping>mySQL</datasource-mapping>
        <create-table>false</create-table>
        <alter-table>false</alter-table>
        <remove-table>false</remove-table>
    </defaults>
    <enterprise-beans>
        <entity>
            <ejb-name>AccountBean</ejb-name>
            <table-name>ACCOUNT</table-name>
            <cmp-field>
                <field-name>accountId</field-name>
                <column-name>account_id</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>description</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>balance</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>creditLine</field-name>
                <column-name>credit_line</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>beginBalance</field-name>
                <column-name>begin_balance</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>beginBalanceTimeStamp</field-name>
                <column-name>begin_balance_time_stamp</column-name>
            </cmp-field>
        </entity>
        <entity>
            <ejb-name>CustomerBean</ejb-name>
            <table-name>CUSTOMER</table-name>
            <cmp-field>
                <field-name>customerId</field-name>
                <column-name>customer_id</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>lastName</field-name>
                <column-name>last_name</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>firstName</field-name>
                <column-name>first_name</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>middleInitial</field-name>
                <column-name>middle_initial</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>street</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>city</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>state</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>zip</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>phone</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>email</field-name>
            </cmp-field>
        </entity>
        <entity>
            <ejb-name>TxBean</ejb-name>
            <table-name>TX</table-name>
            <cmp-field>
                <field-name>txId</field-name>
                <column-name>tx_id</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>timeStamp</field-name>
                <column-name>time_stamp</column-name>
            </cmp-field>
            <cmp-field>
                <field-name>amount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>balance</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>description</field-name>
            </cmp-field>
        </entity>
        <entity>
            <ejb-name>NextIdBean</ejb-name>
            <table-name>NEXT_ID</table-name>
            <cmp-field>
                <field-name>beanName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>id</field-name>
            </cmp-field>
        </entity>
    </enterprise-beans>
    <relationships>
        <ejb-relation>
            <ejb-relation-name>tx-account</ejb-relation-name>
            <foreign-key-mapping/>
            <ejb-relationship-role>
                <ejb-relationship-role-name>tx-has-account</ejb-relationship-role-name>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>account-has-tx</ejb-relationship-role-name>
                <key-fields>
                    <key-field>
                        <field-name>accountId</field-name>
                        <column-name>account_id</column-name>
                    </key-field>
                </key-fields>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>account-customer</ejb-relation-name>
            <relation-table-mapping>
                <table-name>CUSTOMER_ACCOUNT_XREF</table-name>
            </relation-table-mapping>
            <ejb-relationship-role>
                <ejb-relationship-role-name>customer-belongs-to-account</ejb-relationship-role-name>
                <key-fields>
                    <key-field>
                        <field-name>customerId</field-name>
                        <column-name>customer_id</column-name>
                    </key-field>
                </key-fields>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>account-has-customers</ejb-relationship-role-name>
                <key-fields>
                    <key-field>
                        <field-name>accountId</field-name>
                        <column-name>account_id</column-name>
                    </key-field>
                </key-fields>
            </ejb-relationship-role>
        </ejb-relation>
    </relationships>
</jbosscmp-jdbc>
